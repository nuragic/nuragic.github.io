{"version":3,"file":"hyperhtml.js","sources":["../node_modules/@ungap/weakmap/esm/index.js","../node_modules/@ungap/essential-weakset/esm/index.js","../node_modules/@ungap/essential-map/esm/index.js","../node_modules/domdiff/esm/utils.js","../node_modules/domdiff/esm/index.js","../node_modules/@ungap/custom-event/esm/index.js","../node_modules/hyperhtml/esm/classes/Component.js","../node_modules/hyperhtml/esm/objects/Intent.js","../node_modules/@ungap/is-array/esm/index.js","../node_modules/@ungap/create-content/esm/index.js","../node_modules/@ungap/import-node/esm/index.js","../node_modules/domconstants/esm/index.js","../node_modules/@ungap/trim/esm/index.js","../node_modules/domsanitizer/esm/index.js","../node_modules/domtagger/esm/walker.js","../node_modules/domtagger/esm/index.js","../node_modules/hyperhtml-style/esm/index.js","../node_modules/hyperhtml-wire/esm/index.js","../node_modules/hyperhtml/esm/shared/constants.js","../node_modules/hyperhtml/esm/objects/Updates.js","../node_modules/disconnected/esm/index.js","../node_modules/@ungap/template-literal/esm/index.js","../node_modules/@ungap/template-tag-arguments/esm/index.js","../node_modules/hyperhtml/esm/hyper/wire.js","../node_modules/hyperhtml/esm/hyper/render.js","../node_modules/hyperhtml/esm/index.js"],"sourcesContent":["/*! (c) Andrea Giammarchi - ISC */\nvar self = this || /* istanbul ignore next */ {};\ntry { self.WeakMap = WeakMap; }\ncatch (WeakMap) {\n  // this could be better but 90% of the time\n  // it's everything developers need as fallback\n  self.WeakMap = (function (id, Object) {'use strict';\n    var dP = Object.defineProperty;\n    var hOP = Object.hasOwnProperty;\n    var proto = WeakMap.prototype;\n    proto.delete = function (key) {\n      return this.has(key) && delete key[this._];\n    };\n    proto.get = function (key) {\n      return this.has(key) ? key[this._] : void 0;\n    };\n    proto.has = function (key) {\n      return hOP.call(key, this._);\n    };\n    proto.set = function (key, value) {\n      dP(key, this._, {configurable: true, value: value});\n      return this;\n    };\n    return WeakMap;\n    function WeakMap(iterable) {\n      dP(this, '_', {value: '_@ungap/weakmap' + id++});\n      if (iterable)\n        iterable.forEach(add, this);\n    }\n    function add(pair) {\n      this.set(pair[0], pair[1]);\n    }\n  }(Math.random(), Object));\n}\nexport default self.WeakMap;\n","/*! (c) Andrea Giammarchi - ISC */\nvar self = this || /* istanbul ignore next */ {};\ntry { self.WeakSet = WeakSet; }\ncatch (WeakSet) {\n  (function (id, dP) {\n    var proto = WeakSet.prototype;\n    proto.add = function (object) {\n      if (!this.has(object))\n        dP(object, this._, {value: true, configurable: true});\n      return this;\n    };\n    proto.has = function (object) {\n      return this.hasOwnProperty.call(object, this._);\n    };\n    proto.delete = function (object) {\n      return this.has(object) && delete object[this._];\n    };\n    self.WeakSet = WeakSet;\n    function WeakSet() {'use strict';\n      dP(this, '_', {value: '_@ungap/weakmap' + id++});\n    }\n  }(Math.random(), Object.defineProperty));\n}\nexport default self.WeakSet;\n","/*! (c) Andrea Giammarchi - ISC */\nvar self = this || /* istanbul ignore next */ {};\ntry { self.Map = Map; }\ncatch (Map) {\n  self.Map = function Map() {\n    var i = 0;\n    var k = [];\n    var v = [];\n    return {\n      delete: function (key) {\n        var had = contains(key);\n        if (had) {\n          k.splice(i, 1);\n          v.splice(i, 1);\n        }\n        return had;\n      },\n      get: function get(key) {\n        return contains(key) ? v[i] : void 0;\n      },\n      has: function has(key) {\n        return contains(key);\n      },\n      set: function set(key, value) {\n        v[contains(key) ? i : (k.push(key) - 1)] = value;\n        return this;\n      }\n    };\n    function contains(v) {\n      i = k.indexOf(v);\n      return -1 < i;\n    }\n  };\n}\nexport default self.Map;\n","import Map from '@ungap/essential-map';\n\nexport const append = (get, parent, children, start, end, before) => {\n  const isSelect = 'selectedIndex' in parent;\n  let selectedIndex = -1;\n  while (start < end) {\n    const child = get(children[start], 1);\n    if (isSelect && selectedIndex < 0 && child.selected)\n      selectedIndex = start;\n    parent.insertBefore(child, before);\n    start++;\n  }\n  if (isSelect && -1 < selectedIndex)\n    parent.selectedIndex = selectedIndex;\n};\n\nexport const eqeq = (a, b) => a == b;\n\nexport const identity = O => O;\n\nexport const indexOf = (\n  moreNodes,\n  moreStart,\n  moreEnd,\n  lessNodes,\n  lessStart,\n  lessEnd,\n  compare\n) => {\n  const length = lessEnd - lessStart;\n  /* istanbul ignore if */\n  if (length < 1)\n    return -1;\n  while ((moreEnd - moreStart) >= length) {\n    let m = moreStart;\n    let l = lessStart;\n    while (\n      m < moreEnd &&\n      l < lessEnd &&\n      compare(moreNodes[m], lessNodes[l])\n    ) {\n      m++;\n      l++;\n    }\n    if (l === lessEnd)\n      return moreStart;\n    moreStart = m + 1;\n  }\n  return -1;\n};\n\nexport const isReversed = (\n  futureNodes,\n  futureEnd,\n  currentNodes,\n  currentStart,\n  currentEnd,\n  compare\n) => {\n  while (\n    currentStart < currentEnd &&\n    compare(\n      currentNodes[currentStart],\n      futureNodes[futureEnd - 1]\n    )) {\n      currentStart++;\n      futureEnd--;\n    };\n  return futureEnd === 0;\n};\n\nexport const next = (get, list, i, length, before) => i < length ?\n              get(list[i], 0) :\n              (0 < i ?\n                get(list[i - 1], -0).nextSibling :\n                before);\n\nexport const remove = (get, parent, children, start, end) => {\n  if ((end - start) < 2)\n    parent.removeChild(get(children[start], -1));\n  else {\n    const range = parent.ownerDocument.createRange();\n    range.setStartBefore(get(children[start], -1));\n    range.setEndAfter(get(children[end - 1], -1));\n    range.deleteContents();\n  }\n};\n\n// - - - - - - - - - - - - - - - - - - -\n// diff related constants and utilities\n// - - - - - - - - - - - - - - - - - - -\n\nconst DELETION = -1;\nconst INSERTION = 1;\nconst SKIP = 0;\nconst SKIP_OND = 50;\n\nconst HS = (\n  futureNodes,\n  futureStart,\n  futureEnd,\n  futureChanges,\n  currentNodes,\n  currentStart,\n  currentEnd,\n  currentChanges\n) => {\n\n  let k = 0;\n  /* istanbul ignore next */\n  let minLen = futureChanges < currentChanges ? futureChanges : currentChanges;\n  const link = Array(minLen++);\n  const tresh = Array(minLen);\n  tresh[0] = -1;\n\n  for (let i = 1; i < minLen; i++)\n    tresh[i] = currentEnd;\n\n  const keymap = new Map;\n  for (let i = currentStart; i < currentEnd; i++)\n    keymap.set(currentNodes[i], i);\n\n  for (let i = futureStart; i < futureEnd; i++) {\n    const idxInOld = keymap.get(futureNodes[i]);\n    if (idxInOld != null) {\n      k = findK(tresh, minLen, idxInOld);\n      /* istanbul ignore else */\n      if (-1 < k) {\n        tresh[k] = idxInOld;\n        link[k] = {\n          newi: i,\n          oldi: idxInOld,\n          prev: link[k - 1]\n        };\n      }\n    }\n  }\n\n  k = --minLen;\n  --currentEnd;\n  while (tresh[k] > currentEnd) --k;\n\n  minLen = currentChanges + futureChanges - k;\n  const diff = Array(minLen);\n  let ptr = link[k];\n  --futureEnd;\n  while (ptr) {\n    const {newi, oldi} = ptr;\n    while (futureEnd > newi) {\n      diff[--minLen] = INSERTION;\n      --futureEnd;\n    }\n    while (currentEnd > oldi) {\n      diff[--minLen] = DELETION;\n      --currentEnd;\n    }\n    diff[--minLen] = SKIP;\n    --futureEnd;\n    --currentEnd;\n    ptr = ptr.prev;\n  }\n  while (futureEnd >= futureStart) {\n    diff[--minLen] = INSERTION;\n    --futureEnd;\n  }\n  while (currentEnd >= currentStart) {\n    diff[--minLen] = DELETION;\n    --currentEnd;\n  }\n  return diff;\n};\n\n// this is pretty much the same petit-dom code without the delete map part\n// https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L556-L561\nconst OND = (\n  futureNodes,\n  futureStart,\n  rows,\n  currentNodes,\n  currentStart,\n  cols,\n  compare\n) => {\n  const length = rows + cols;\n  const v = [];\n  let d, k, r, c, pv, cv, pd;\n  outer: for (d = 0; d <= length; d++) {\n    /* istanbul ignore if */\n    if (d > SKIP_OND)\n      return null;\n    pd = d - 1;\n    /* istanbul ignore next */\n    pv = d ? v[d - 1] : [0, 0];\n    cv = v[d] = [];\n    for (k = -d; k <= d; k += 2) {\n      if (k === -d || (k !== d && pv[pd + k - 1] < pv[pd + k + 1])) {\n        c = pv[pd + k + 1];\n      } else {\n        c = pv[pd + k - 1] + 1;\n      }\n      r = c - k;\n      while (\n        c < cols &&\n        r < rows &&\n        compare(\n          currentNodes[currentStart + c],\n          futureNodes[futureStart + r]\n        )\n      ) {\n        c++;\n        r++;\n      }\n      if (c === cols && r === rows) {\n        break outer;\n      }\n      cv[d + k] = c;\n    }\n  }\n\n  const diff = Array(d / 2 + length / 2);\n  let diffIdx = diff.length - 1;\n  for (d = v.length - 1; d >= 0; d--) {\n    while (\n      c > 0 &&\n      r > 0 &&\n      compare(\n        currentNodes[currentStart + c - 1],\n        futureNodes[futureStart + r - 1]\n      )\n    ) {\n      // diagonal edge = equality\n      diff[diffIdx--] = SKIP;\n      c--;\n      r--;\n    }\n    if (!d)\n      break;\n    pd = d - 1;\n    /* istanbul ignore next */\n    pv = d ? v[d - 1] : [0, 0];\n    k = c - r;\n    if (k === -d || (k !== d && pv[pd + k - 1] < pv[pd + k + 1])) {\n      // vertical edge = insertion\n      r--;\n      diff[diffIdx--] = INSERTION;\n    } else {\n      // horizontal edge = deletion\n      c--;\n      diff[diffIdx--] = DELETION;\n    }\n  }\n  return diff;\n};\n\nconst applyDiff = (\n  diff,\n  get,\n  parentNode,\n  futureNodes,\n  futureStart,\n  currentNodes,\n  currentStart,\n  currentLength,\n  before\n) => {\n  const live = new Map;\n  const length = diff.length;\n  let currentIndex = currentStart;\n  let i = 0;\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        futureStart++;\n        currentIndex++;\n        break;\n      case INSERTION:\n        // TODO: bulk appends for sequential nodes\n        live.set(futureNodes[futureStart], 1);\n        append(\n          get,\n          parentNode,\n          futureNodes,\n          futureStart++,\n          futureStart,\n          currentIndex < currentLength ?\n            get(currentNodes[currentIndex], 0) :\n            before\n        );\n        break;\n      case DELETION:\n        currentIndex++;\n        break;\n    }\n  }\n  i = 0;\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        currentStart++;\n        break;\n      case DELETION:\n        // TODO: bulk removes for sequential nodes\n        if (live.has(currentNodes[currentStart]))\n          currentStart++;\n        else\n          remove(\n            get,\n            parentNode,\n            currentNodes,\n            currentStart++,\n            currentStart\n          );\n        break;\n    }\n  }\n};\n\nconst findK = (ktr, length, j) => {\n  let lo = 1;\n  let hi = length;\n  while (lo < hi) {\n    const mid = ((lo + hi) / 2) >>> 0;\n    if (j < ktr[mid])\n      hi = mid;\n    else\n      lo = mid + 1;\n  }\n  return lo;\n}\n\nexport const smartDiff = (\n  get,\n  parentNode,\n  futureNodes,\n  futureStart,\n  futureEnd,\n  futureChanges,\n  currentNodes,\n  currentStart,\n  currentEnd,\n  currentChanges,\n  currentLength,\n  compare,\n  before\n) => {\n  applyDiff(\n    OND(\n      futureNodes,\n      futureStart,\n      futureChanges,\n      currentNodes,\n      currentStart,\n      currentChanges,\n      compare\n    ) ||\n    HS(\n      futureNodes,\n      futureStart,\n      futureEnd,\n      futureChanges,\n      currentNodes,\n      currentStart,\n      currentEnd,\n      currentChanges\n    ),\n    get,\n    parentNode,\n    futureNodes,\n    futureStart,\n    currentNodes,\n    currentStart,\n    currentLength,\n    before\n  );\n};\n","/*! (c) 2018 Andrea Giammarchi (ISC) */\n\nimport {\n  eqeq, identity, indexOf, isReversed, next,\n  append, remove,\n  smartDiff\n} from './utils.js';\n\nconst domdiff = (\n  parentNode,     // where changes happen\n  currentNodes,   // Array of current items/nodes\n  futureNodes,    // Array of future items/nodes\n  options         // optional object with one of the following properties\n                  //  before: domNode\n                  //  compare(generic, generic) => true if same generic\n                  //  node(generic) => Node\n) => {\n  if (!options)\n    options = {};\n\n  const compare = options.compare || eqeq;\n  const get = options.node || identity;\n  const before = options.before == null ? null : get(options.before, 0);\n\n  const currentLength = currentNodes.length;\n  let currentEnd = currentLength;\n  let currentStart = 0;\n\n  let futureEnd = futureNodes.length;\n  let futureStart = 0;\n\n  // common prefix\n  while (\n    currentStart < currentEnd &&\n    futureStart < futureEnd &&\n    compare(currentNodes[currentStart], futureNodes[futureStart])\n  ) {\n    currentStart++;\n    futureStart++;\n  }\n\n  // common suffix\n  while (\n    currentStart < currentEnd &&\n    futureStart < futureEnd &&\n    compare(currentNodes[currentEnd - 1], futureNodes[futureEnd - 1])\n  ) {\n    currentEnd--;\n    futureEnd--;\n  }\n\n  const currentSame = currentStart === currentEnd;\n  const futureSame = futureStart === futureEnd;\n\n  // same list\n  if (currentSame && futureSame)\n    return futureNodes;\n\n  // only stuff to add\n  if (currentSame && futureStart < futureEnd) {\n    append(\n      get,\n      parentNode,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      next(get, currentNodes, currentStart, currentLength, before)\n    );\n    return futureNodes;\n  }\n\n  // only stuff to remove\n  if (futureSame && currentStart < currentEnd) {\n    remove(\n      get,\n      parentNode,\n      currentNodes,\n      currentStart,\n      currentEnd\n    );\n    return futureNodes;\n  }\n\n  const currentChanges = currentEnd - currentStart;\n  const futureChanges = futureEnd - futureStart;\n  let i = -1;\n\n  // 2 simple indels: the shortest sequence is a subsequence of the longest\n  if (currentChanges < futureChanges) {\n    i = indexOf(\n      futureNodes,\n      futureStart,\n      futureEnd,\n      currentNodes,\n      currentStart,\n      currentEnd,\n      compare\n    );\n    // inner diff\n    if (-1 < i) {\n      append(\n        get,\n        parentNode,\n        futureNodes,\n        futureStart,\n        i,\n        get(currentNodes[currentStart], 0)\n      );\n      append(\n        get,\n        parentNode,\n        futureNodes,\n        i + currentChanges,\n        futureEnd,\n        next(get, currentNodes, currentEnd, currentLength, before)\n      );\n      return futureNodes;\n    }\n  }\n  /* istanbul ignore else */\n  else if (futureChanges < currentChanges) {\n    i = indexOf(\n      currentNodes,\n      currentStart,\n      currentEnd,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      compare\n    );\n    // outer diff\n    if (-1 < i) {\n      remove(\n        get,\n        parentNode,\n        currentNodes,\n        currentStart,\n        i\n      );\n      remove(\n        get,\n        parentNode,\n        currentNodes,\n        i + futureChanges,\n        currentEnd\n      );\n      return futureNodes;\n    }\n  }\n\n  // common case with one replacement for many nodes\n  // or many nodes replaced for a single one\n  /* istanbul ignore else */\n  if ((currentChanges < 2 || futureChanges < 2)) {\n    append(\n      get,\n      parentNode,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      get(currentNodes[currentStart], 0)\n    );\n    remove(\n      get,\n      parentNode,\n      currentNodes,\n      currentStart,\n      currentEnd\n    );\n    return futureNodes;\n  }\n\n  // the half match diff part has been skipped in petit-dom\n  // https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L391-L397\n  // accordingly, I think it's safe to skip in here too\n  // if one day it'll come out like the speediest thing ever to do\n  // then I might add it in here too\n\n  // Extra: before going too fancy, what about reversed lists ?\n  //        This should bail out pretty quickly if that's not the case.\n  if (\n    currentChanges === futureChanges &&\n    isReversed(\n      futureNodes,\n      futureEnd,\n      currentNodes,\n      currentStart,\n      currentEnd,\n      compare\n    )\n  ) {\n    append(\n      get,\n      parentNode,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      next(get, currentNodes, currentEnd, currentLength, before)\n    );\n    return futureNodes;\n  }\n\n  // last resort through a smart diff\n  smartDiff(\n    get,\n    parentNode,\n    futureNodes,\n    futureStart,\n    futureEnd,\n    futureChanges,\n    currentNodes,\n    currentStart,\n    currentEnd,\n    currentChanges,\n    currentLength,\n    compare,\n    before\n  );\n\n  return futureNodes;\n};\n\nexport default domdiff;\n","/*! (c) Andrea Giammarchi - ISC */\nvar self = this || /* istanbul ignore next */ {};\nself.CustomEvent = typeof CustomEvent === 'function' ?\n  CustomEvent :\n  (function (__p__) {\n    CustomEvent[__p__] = new CustomEvent('').constructor[__p__];\n    return CustomEvent;\n    function CustomEvent(type, init) {\n      if (!init) init = {};\n      var e = document.createEvent('CustomEvent');\n      e.initCustomEvent(type, !!init.bubbles, !!init.cancelable, init.detail);\n      return e;\n    }\n  }('prototype'));\nexport default self.CustomEvent;\n","import CustomEvent from '@ungap/custom-event';\nimport Map from '@ungap/essential-map';\nimport WeakMap from '@ungap/weakmap';\n\n// hyperHTML.Component is a very basic class\n// able to create Custom Elements like components\n// including the ability to listen to connect/disconnect\n// events via onconnect/ondisconnect attributes\n// Components can be created imperatively or declaratively.\n// The main difference is that declared components\n// will not automatically render on setState(...)\n// to simplify state handling on render.\nexport default function Component() {\n  return this; // this is needed in Edge !!!\n}\n\n// Component is lazily setup because it needs\n// wire mechanism as lazy content\nexport function setup(content) {\n  // there are various weakly referenced variables in here\n  // and mostly are to use Component.for(...) static method.\n  const children = new WeakMap;\n  const create = Object.create;\n  const createEntry = (wm, id, component) => {\n    wm.set(id, component);\n    return component;\n  };\n  const get = (Class, info, context, id) => {\n    const relation = info.get(Class) || relate(Class, info);\n    switch (typeof id) {\n      case 'object':\n      case 'function':\n        const wm = relation.w || (relation.w = new WeakMap);\n        return wm.get(id) || createEntry(wm, id, new Class(context));\n      default:\n        const sm = relation.p || (relation.p = create(null));\n        return sm[id] || (sm[id] = new Class(context));\n    }\n  };\n  const relate = (Class, info) => {\n    const relation = {w: null, p: null};\n    info.set(Class, relation);\n    return relation;\n  };\n  const set = context => {\n    const info = new Map;\n    children.set(context, info);\n    return info;\n  };\n  // The Component Class\n  Object.defineProperties(\n    Component,\n    {\n      // Component.for(context[, id]) is a convenient way\n      // to automatically relate data/context to children components\n      // If not created yet, the new Component(context) is weakly stored\n      // and after that same instance would always be returned.\n      for: {\n        configurable: true,\n        value(context, id) {\n          return get(\n            this,\n            children.get(context) || set(context),\n            context,\n            id == null ?\n              'default' : id\n          );\n        }\n      }\n    }\n  );\n  Object.defineProperties(\n    Component.prototype,\n    {\n      // all events are handled with the component as context\n      handleEvent: {value(e) {\n        const ct = e.currentTarget;\n        this[\n          ('getAttribute' in ct && ct.getAttribute('data-call')) ||\n          ('on' + e.type)\n        ](e);\n      }},\n      // components will lazily define html or svg properties\n      // as soon as these are invoked within the .render() method\n      // Such render() method is not provided by the base class\n      // but it must be available through the Component extend.\n      // Declared components could implement a\n      // render(props) method too and use props as needed.\n      html: lazyGetter('html', content),\n      svg: lazyGetter('svg', content),\n      // the state is a very basic/simple mechanism inspired by Preact\n      state: lazyGetter('state', function () { return this.defaultState; }),\n      // it is possible to define a default state that'd be always an object otherwise\n      defaultState: {get() { return {}; }},\n      // dispatch a bubbling, cancelable, custom event\n      // through the first known/available node\n      dispatch: {value(type, detail) {\n        const {_wire$} = this;\n        if (_wire$) {\n          const event = new CustomEvent(type, {\n            bubbles: true,\n            cancelable: true,\n            detail\n          });\n          event.component = this;\n          return (_wire$.dispatchEvent ?\n                    _wire$ :\n                    _wire$.firstChild\n                  ).dispatchEvent(event);\n        }\n        return false;\n      }},\n      // setting some property state through a new object\n      // or a callback, triggers also automatically a render\n      // unless explicitly specified to not do so (render === false)\n      setState: {value(state, render) {\n        const target = this.state;\n        const source = typeof state === 'function' ? state.call(this, target) : state;\n        for (const key in source) target[key] = source[key];\n        if (render !== false)\n          this.render();\n        return this;\n      }}\n    }\n  );\n}\n\n// instead of a secret key I could've used a WeakMap\n// However, attaching a property directly will result\n// into better performance with thousands of components\n// hanging around, and less memory pressure caused by the WeakMap\nconst lazyGetter = (type, fn) => {\n  const secret = '_' + type + '$';\n  return {\n    get() {\n      return this[secret] || setValue(this, secret, fn.call(this, type));\n    },\n    set(value) {\n      setValue(this, secret, value);\n    }\n  };\n};\n\n// shortcut to set value on get or set(value)\nconst setValue = (self, secret, value) =>\n  Object.defineProperty(self, secret, {\n    configurable: true,\n    value: typeof value === 'function' ?\n      function () {\n        return (self._wire$ = value.apply(this, arguments));\n      } :\n      value\n  })[secret]\n;\n\nObject.defineProperties(\n  Component.prototype,\n  {\n    // used to distinguish better than instanceof\n    ELEMENT_NODE: {value: 1},\n    nodeType: {value: -1}\n  }\n);\n","const attributes = {};\nconst intents = {};\nconst keys = [];\nconst hasOwnProperty = intents.hasOwnProperty;\n\nlet length = 0;\n\nexport default {\n\n  // used to invoke right away hyper:attributes\n  attributes,\n\n  // hyperHTML.define('intent', (object, update) => {...})\n  // can be used to define a third parts update mechanism\n  // when every other known mechanism failed.\n  // hyper.define('user', info => info.name);\n  // hyper(node)`<p>${{user}}</p>`;\n  define: (intent, callback) => {\n    if (intent.indexOf('-') < 0) {\n      if (!(intent in intents)) {\n        length = keys.push(intent);\n      }\n      intents[intent] = callback;\n    } else {\n      attributes[intent] = callback;\n    }\n  },\n\n  // this method is used internally as last resort\n  // to retrieve a value out of an object\n  invoke: (object, callback) => {\n    for (let i = 0; i < length; i++) {\n      let key = keys[i];\n      if (hasOwnProperty.call(object, key)) {\n        return intents[key](object[key], callback);\n      }\n    }\n  }\n};\n","var isArray = Array.isArray || (function (toString) {\n  var $ = toString.call([]);\n  return function isArray(object) {\n    return toString.call(object) === $;\n  };\n}({}.toString));\nexport default isArray;\n","/*! (c) Andrea Giammarchi - ISC */\nvar createContent = (function (document) {'use strict';\n  var FRAGMENT = 'fragment';\n  var TEMPLATE = 'template';\n  var HAS_CONTENT = 'content' in create(TEMPLATE);\n\n  var createHTML = HAS_CONTENT ?\n    function (html) {\n      var template = create(TEMPLATE);\n      template.innerHTML = html;\n      return template.content;\n    } :\n    function (html) {\n      var content = create(FRAGMENT);\n      var template = create(TEMPLATE);\n      var childNodes = null;\n      if (/^[^\\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(html)) {\n        var selector = RegExp.$1;\n        template.innerHTML = '<table>' + html + '</table>';\n        childNodes = template.querySelectorAll(selector);\n      } else {\n        template.innerHTML = html;\n        childNodes = template.childNodes;\n      }\n      append(content, childNodes);\n      return content;\n    };\n\n  return function createContent(markup, type) {\n    return (type === 'svg' ? createSVG : createHTML)(markup);\n  };\n\n  function append(root, childNodes) {\n    var length = childNodes.length;\n    while (length--)\n      root.appendChild(childNodes[0]);\n  }\n\n  function create(element) {\n    return element === FRAGMENT ?\n      document.createDocumentFragment() :\n      document.createElementNS('http://www.w3.org/1999/xhtml', element);\n  }\n\n  // it could use createElementNS when hasNode is there\n  // but this fallback is equally fast and easier to maintain\n  // it is also battle tested already in all IE\n  function createSVG(svg) {\n    var content = create(FRAGMENT);\n    var template = create('div');\n    template.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\">' + svg + '</svg>';\n    append(content, template.firstChild.childNodes);\n    return content;\n  }\n\n}(document));\nexport default createContent;\n","/*! (c) Andrea Giammarchi - ISC */\nvar importNode = (function (\n  document,\n  appendChild,\n  cloneNode,\n  createTextNode,\n  importNode\n) {\n  var native = importNode in document;\n  // IE 11 has problems with cloning templates:\n  // it \"forgets\" empty childNodes. This feature-detects that.\n  var fragment = document.createDocumentFragment();\n  fragment[appendChild](document[createTextNode]('g'));\n  fragment[appendChild](document[createTextNode](''));\n  var content = native ?\n    document[importNode](fragment, true) :\n    fragment[cloneNode](true);\n  return content.childNodes.length < 2 ?\n    function importNode(node, deep) {\n      var clone = node[cloneNode]();\n      for (var\n        childNodes = node.childNodes || [],\n        length = childNodes.length,\n        i = 0; deep && i < length; i++\n      ) {\n        clone[appendChild](importNode(childNodes[i], deep));\n      }\n      return clone;\n    } :\n    (native ?\n      document[importNode] :\n      function (node, deep) {\n        return node[cloneNode](!!deep);\n      }\n    );\n}(\n  document,\n  'appendChild',\n  'cloneNode',\n  'createTextNode',\n  'importNode'\n));\nexport default importNode;\n","/*! (c) Andrea Giammarchi - ISC */\n\n// Custom\nvar UID = '-' + Math.random().toFixed(6) + '%';\n//                           Edge issue!\n\nvar UID_IE = false;\n\ntry {\n  if (!(function (template, content, tabindex) {\n    return content in template && (\n      (template.innerHTML = '<p ' + tabindex + '=\"' + UID + '\"></p>'),\n      template[content].childNodes[0].getAttribute(tabindex) == UID\n    );\n  }(document.createElement('template'), 'content', 'tabindex'))) {\n    UID = '_dt: ' + UID.slice(1, -1) + ';';\n    UID_IE = true;\n  }\n} catch(meh) {}\n\nvar UIDC = '<!--' + UID + '-->';\n\n// DOM\nvar COMMENT_NODE = 8;\nvar DOCUMENT_FRAGMENT_NODE = 11;\nvar ELEMENT_NODE = 1;\nvar TEXT_NODE = 3;\n\nvar SHOULD_USE_TEXT_CONTENT = /^(?:style|textarea)$/i;\nvar VOID_ELEMENTS = /^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;\n\nexport {\n  UID, UIDC, UID_IE,\n  COMMENT_NODE,\n  DOCUMENT_FRAGMENT_NODE,\n  ELEMENT_NODE,\n  TEXT_NODE,\n  SHOULD_USE_TEXT_CONTENT,\n  VOID_ELEMENTS\n};\n","var trim = ''.trim || function () {\n  return String(this).replace(/^\\s+|\\s+/g, '');\n};\nexport default trim;\n","/*! (c) Andrea Giammarchi - ISC */\n\nimport {UID, UIDC, VOID_ELEMENTS} from 'domconstants';\n\nexport default function (template) {\n  return template.join(UIDC)\n          .replace(selfClosing, fullClosing)\n          .replace(attrSeeker, attrReplacer);\n}\n\nvar spaces = ' \\\\f\\\\n\\\\r\\\\t';\nvar almostEverything = '[^' + spaces + '\\\\/>\"\\'=]+';\nvar attrName = '[' + spaces + ']+' + almostEverything;\nvar tagName = '<([A-Za-z]+[A-Za-z0-9:_-]*)((?:';\nvar attrPartials = '(?:\\\\s*=\\\\s*(?:\\'[^\\']*?\\'|\"[^\"]*?\"|<[^>]*?>|' + almostEverything.replace('\\\\/', '') + '))?)';\n\nvar attrSeeker = new RegExp(tagName + attrName + attrPartials + '+)([' + spaces + ']*/?>)', 'g');\nvar selfClosing = new RegExp(tagName + attrName + attrPartials + '*)([' + spaces + ']*/>)', 'g');\nvar findAttributes = new RegExp('(' + attrName + '\\\\s*=\\\\s*)([\\'\"]?)' + UIDC + '\\\\2', 'gi');\n\nfunction attrReplacer($0, $1, $2, $3) {\n  return '<' + $1 + $2.replace(findAttributes, replaceAttributes) + $3;\n}\n\nfunction replaceAttributes($0, $1, $2) {\n  return $1 + ($2 || '\"') + UID + ($2 || '\"');\n}\n\nfunction fullClosing($0, $1, $2) {\n  return VOID_ELEMENTS.test($1) ? $0 : ('<' + $1 + $2 + '></' + $1 + '>');\n}\n","import Map from '@ungap/essential-map';\nimport trim from '@ungap/trim';\n\nimport {\n  UID, UIDC,\n  COMMENT_NODE,\n  ELEMENT_NODE,\n  SHOULD_USE_TEXT_CONTENT,\n  TEXT_NODE\n} from 'domconstants';\n\nexport {find, parse};\n\nfunction create(type, node, path, name) {\n  return {name: name, node: node, path: path, type: type};\n}\n\nfunction find(node, path) {\n  var length = path.length;\n  var i = 0;\n  while (i < length)\n    node = node.childNodes[path[i++]];\n  return node;\n}\n\nfunction parse(node, holes, parts, path) {\n  var childNodes = node.childNodes;\n  var length = childNodes.length;\n  var i = 0;\n  while (i < length) {\n    var child = childNodes[i];\n    switch (child.nodeType) {\n      case ELEMENT_NODE:\n        var childPath = path.concat(i);\n        parseAttributes(child, holes, parts, childPath);\n        parse(child, holes, parts, childPath);\n        break;\n      case COMMENT_NODE:\n        var textContent = child.textContent;\n        if (textContent === UID) {\n          parts.shift();\n          holes.push(\n            // basicHTML or other non standard engines\n            // might end up having comments in nodes\n            // where they shouldn't, hence this check.\n            SHOULD_USE_TEXT_CONTENT.test(node.nodeName) ?\n              create('text', node, path) :\n              create('any', child, path.concat(i))\n          );\n        } else {\n          switch (textContent.slice(0, 2)) {\n            case '/*':\n              if (textContent.slice(-2) !== '*/')\n                break;\n            case '\\uD83D\\uDC7B': // ghost\n              node.removeChild(child);\n              i--;\n              length--;\n          }\n        }\n        break;\n      case TEXT_NODE:\n        // the following ignore is actually covered by browsers\n        // only basicHTML ends up on previous COMMENT_NODE case\n        // instead of TEXT_NODE because it knows nothing about\n        // special style or textarea behavior\n        /* istanbul ignore if */\n        if (\n          SHOULD_USE_TEXT_CONTENT.test(node.nodeName) &&\n          trim.call(child.textContent) === UIDC\n        ) {\n          parts.shift();\n          holes.push(create('text', node, path));\n        }\n        break;\n    }\n    i++;\n  }\n}\n\nfunction parseAttributes(node, holes, parts, path) {\n  var cache = new Map;\n  var attributes = node.attributes;\n  var remove = [];\n  var array = remove.slice.call(attributes, 0);\n  var length = array.length;\n  var i = 0;\n  while (i < length) {\n    var attribute = array[i++];\n    if (attribute.value === UID) {\n      var name = attribute.name;\n      // the following ignore is covered by IE\n      // and the IE9 double viewBox test\n      /* istanbul ignore else */\n      if (!cache.has(name)) {\n        var realName = parts.shift().replace(/^(?:|[\\S\\s]*?\\s)(\\S+?)\\s*=\\s*['\"]?$/, '$1');\n        var value = attributes[realName] ||\n                      // the following ignore is covered by browsers\n                      // while basicHTML is already case-sensitive\n                      /* istanbul ignore next */\n                      attributes[realName.toLowerCase()];\n        cache.set(name, value);\n        holes.push(create('attr', value, path, realName));\n      }\n      remove.push(attribute);\n    }\n  }\n  length = remove.length;\n  i = 0;\n  while (i < length) {\n    // Edge HTML bug #16878726\n    var attr = remove[i++];\n    if (/^id$/i.test(attr.name))\n      node.removeAttribute(attr.name);\n    // standard browsers would work just fine here\n    else\n      node.removeAttributeNode(attr);\n  }\n\n  // This is a very specific Firefox/Safari issue\n  // but since it should be a not so common pattern,\n  // it's probably worth patching regardless.\n  // Basically, scripts created through strings are death.\n  // You need to create fresh new scripts instead.\n  // TODO: is there any other node that needs such nonsense?\n  var nodeName = node.nodeName;\n  if (/^script$/i.test(nodeName)) {\n    // this used to be like that\n    // var script = createElement(node, nodeName);\n    // then Edge arrived and decided that scripts created\n    // through template documents aren't worth executing\n    // so it became this ... hopefully it won't hurt in the wild\n    var script = document.createElement(nodeName);\n    length = attributes.length;\n    i = 0;\n    while (i < length)\n      script.setAttributeNode(attributes[i++].cloneNode(true));\n    script.textContent = node.textContent;\n    node.parentNode.replaceChild(script, node);\n  }\n}\n","// globals\nimport WeakMap from '@ungap/weakmap';\n\n// utils\nimport createContent from '@ungap/create-content';\nimport importNode from '@ungap/import-node';\nimport trim from '@ungap/trim';\nimport sanitize from 'domsanitizer';\n\n// local\nimport {find, parse} from './walker.js';\n\n// the domtagger 🎉\nexport default domtagger;\n\nvar parsed = new WeakMap;\nvar referenced = new WeakMap;\n\nfunction createInfo(options, template) {\n  var markup = sanitize(template);\n  var transform = options.transform;\n  if (transform)\n    markup = transform(markup);\n  var content = createContent(markup, options.type);\n  cleanContent(content);\n  var holes = [];\n  parse(content, holes, template.slice(0), []);\n  var info = {\n    content: content,\n    updates: function (content) {\n      var callbacks = [];\n      var len = holes.length;\n      var i = 0;\n      while (i < len) {\n        var info = holes[i++];\n        var node = find(content, info.path);\n        switch (info.type) {\n          case 'any':\n            callbacks.push(options.any(node, []));\n            break;\n          case 'attr':\n            callbacks.push(options.attribute(node, info.name, info.node));\n            break;\n          case 'text':\n            callbacks.push(options.text(node));\n            node.textContent = '';\n            break;\n        }\n      }\n      return function () {\n        var length = arguments.length;\n        var values = length - 1;\n        var i = 1;\n        if (len !== values) {\n          throw new Error(\n            values + ' values instead of ' + len + '\\n' +\n            template.join(', ')\n          );\n        }\n        while (i < length)\n          callbacks[i - 1](arguments[i++]);\n        return content;\n      };\n    }\n  };\n  parsed.set(template, info);\n  return info;\n}\n\nfunction createDetails(options, template) {\n  var info = parsed.get(template) || createInfo(options, template);\n  var content = importNode.call(document, info.content, true);\n  var details = {\n    content: content,\n    template: template,\n    updates: info.updates(content)\n  };\n  referenced.set(options, details);\n  return details;\n}\n\nfunction domtagger(options) {\n  return function (template) {\n    var details = referenced.get(options);\n    if (details == null || details.template !== template)\n      details = createDetails(options, template);\n    details.updates.apply(null, arguments);\n    return details.content;\n  };\n}\n\nfunction cleanContent(fragment) {\n  var childNodes = fragment.childNodes;\n  var i = childNodes.length;\n  while (i--) {\n    var child = childNodes[i];\n    if (\n      child.nodeType !== 1 &&\n      trim.call(child.textContent).length === 0\n    ) {\n      fragment.removeChild(child);\n    }\n  }\n}\n","/*! (c) Andrea Giammarchi - ISC */\nvar hyperStyle = (function (){'use strict';\n  // from https://github.com/developit/preact/blob/33fc697ac11762a1cb6e71e9847670d047af7ce5/src/varants.js\n  var IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n  var hyphen = /([^A-Z])([A-Z]+)/g;\n  return function hyperStyle(node, original) {\n    return 'ownerSVGElement' in node ? svg(node, original) : update(node.style, false);\n  };\n  function ized($0, $1, $2) {\n    return $1 + '-' + $2.toLowerCase();\n  }\n  function svg(node, original) {\n    var style;\n    if (original)\n      style = original.cloneNode(true);\n    else {\n      node.setAttribute('style', '--hyper:style;');\n      style = node.getAttributeNode('style');\n    }\n    style.value = '';\n    node.setAttributeNode(style);\n    return update(style, true);\n  }\n  function toStyle(object) {\n    var key, css = [];\n    for (key in object)\n      css.push(key.replace(hyphen, ized), ':', object[key], ';');\n    return css.join('');\n  }\n  function update(style, isSVG) {\n    var oldType, oldValue;\n    return function (newValue) {\n      var info, key, styleValue, value;\n      switch (typeof newValue) {\n        case 'object':\n          if (newValue) {\n            if (oldType === 'object') {\n              if (!isSVG) {\n                if (oldValue !== newValue) {\n                  for (key in oldValue) {\n                    if (!(key in newValue)) {\n                      style[key] = '';\n                    }\n                  }\n                }\n              }\n            } else {\n              if (isSVG)\n                style.value = '';\n              else\n                style.cssText = '';\n            }\n            info = isSVG ? {} : style;\n            for (key in newValue) {\n              value = newValue[key];\n              styleValue = typeof value === 'number' &&\n                                  !IS_NON_DIMENSIONAL.test(key) ?\n                                  (value + 'px') : value;\n              if (!isSVG && /^--/.test(key))\n                info.setProperty(key, styleValue);\n              else\n                info[key] = styleValue;\n            }\n            oldType = 'object';\n            if (isSVG)\n              style.value = toStyle((oldValue = info));\n            else\n              oldValue = newValue;\n            break;\n          }\n        default:\n          if (oldValue != newValue) {\n            oldType = 'string';\n            oldValue = newValue;\n            if (isSVG)\n              style.value = newValue || '';\n            else\n              style.cssText = newValue || '';\n          }\n          break;\n      }\n    };\n  }\n}());\nexport default hyperStyle;\n","/*! (c) Andrea Giammarchi - ISC */\nvar Wire = (function (slice, proto) {\n\n  proto = Wire.prototype;\n\n  proto.ELEMENT_NODE = 1;\n  proto.nodeType = 111;\n\n  proto.remove = function (keepFirst) {\n    var childNodes = this.childNodes;\n    var first = this.firstChild;\n    var last = this.lastChild;\n    this._ = null;\n    if (keepFirst && childNodes.length === 2) {\n      last.parentNode.removeChild(last);\n    } else {\n      var range = this.ownerDocument.createRange();\n      range.setStartBefore(keepFirst ? childNodes[1] : first);\n      range.setEndAfter(last);\n      range.deleteContents();\n    }\n    return first;\n  };\n\n  proto.valueOf = function (forceAppend) {\n    var fragment = this._;\n    var noFragment = fragment == null;\n    if (noFragment)\n      fragment = (this._ = this.ownerDocument.createDocumentFragment());\n    if (noFragment || forceAppend) {\n      for (var n = this.childNodes, i = 0, l = n.length; i < l; i++)\n        fragment.appendChild(n[i]);\n    }\n    return fragment;\n  };\n\n  return Wire;\n\n  function Wire(childNodes) {\n    var nodes = (this.childNodes = slice.call(childNodes, 0));\n    this.firstChild = nodes[0];\n    this.lastChild = nodes[nodes.length - 1];\n    this.ownerDocument = nodes[0].ownerDocument;\n    this._ = null;\n  }\n\n}([].slice));\nexport default Wire;\n","// Node.CONSTANTS\n// 'cause some engine has no global Node defined\n// (i.e. Node, NativeScript, basicHTML ... )\nexport const ELEMENT_NODE = 1;\nexport const DOCUMENT_FRAGMENT_NODE = 11;\n\n// SVG related constants\nexport const OWNER_SVG_ELEMENT = 'ownerSVGElement';\n\n// Custom Elements / MutationObserver constants\nexport const CONNECTED = 'connected';\nexport const DISCONNECTED = 'dis' + CONNECTED;\n","import CustomEvent from '@ungap/custom-event';\nimport WeakSet from '@ungap/essential-weakset';\nimport isArray from '@ungap/is-array';\nimport createContent from '@ungap/create-content';\n\nimport disconnected from 'disconnected';\nimport domdiff from 'domdiff';\nimport domtagger from 'domtagger';\nimport hyperStyle from 'hyperhtml-style';\nimport Wire from 'hyperhtml-wire';\n\nimport {\n  CONNECTED, DISCONNECTED,\n  DOCUMENT_FRAGMENT_NODE,\n  OWNER_SVG_ELEMENT\n} from '../shared/constants.js';\n\nimport Component from '../classes/Component.js';\nimport Intent from './Intent.js';\n\nconst componentType = Component.prototype.nodeType;\nconst wireType = Wire.prototype.nodeType;\n\nconst observe = disconnected({Event: CustomEvent, WeakSet});\n\nexport {Tagger, observe};\n\n// returns an intent to explicitly inject content as html\nconst asHTML = html => ({html});\n\n// returns nodes from wires and components\nconst asNode = (item, i) => {\n  switch (item.nodeType) {\n    case wireType:\n      // in the Wire case, the content can be\n      // removed, post-pended, inserted, or pre-pended and\n      // all these cases are handled by domdiff already\n      /* istanbul ignore next */\n      return (1 / i) < 0 ?\n        (i ? item.remove(true) : item.lastChild) :\n        (i ? item.valueOf(true) : item.firstChild);\n    case componentType:\n      return asNode(item.render(), i);\n    default:\n      return item;\n  }\n}\n\n// returns true if domdiff can handle the value\nconst canDiff = value => 'ELEMENT_NODE' in value;\n\n// when a Promise is used as interpolation value\n// its result must be parsed once resolved.\n// This callback is in charge of understanding what to do\n// with a returned value once the promise is resolved.\nconst invokeAtDistance = (value, callback) => {\n  callback(value.placeholder);\n  if ('text' in value) {\n    Promise.resolve(value.text).then(String).then(callback);\n  } else if ('any' in value) {\n    Promise.resolve(value.any).then(callback);\n  } else if ('html' in value) {\n    Promise.resolve(value.html).then(asHTML).then(callback);\n  } else {\n    Promise.resolve(Intent.invoke(value, callback)).then(callback);\n  }\n};\n\n// quick and dirty way to check for Promise/ish values\nconst isPromise_ish = value => value != null && 'then' in value;\n\n// list of attributes that should not be directly assigned\nconst readOnly = /^(?:form|list)$/i;\n\n// reused every slice time\nconst slice = [].slice;\n\n// simplifies text node creation\nconst text = (node, text) => node.ownerDocument.createTextNode(text);\n\nfunction Tagger(type) {\n  this.type = type;\n  return domtagger(this);\n}\n\nTagger.prototype = {\n\n  // there are four kind of attributes, and related behavior:\n  //  * events, with a name starting with `on`, to add/remove event listeners\n  //  * special, with a name present in their inherited prototype, accessed directly\n  //  * regular, accessed through get/setAttribute standard DOM methods\n  //  * style, the only regular attribute that also accepts an object as value\n  //    so that you can style=${{width: 120}}. In this case, the behavior has been\n  //    fully inspired by Preact library and its simplicity.\n  attribute(node, name, original) {\n    const isSVG = OWNER_SVG_ELEMENT in node;\n    let oldValue;\n    // if the attribute is the style one\n    // handle it differently from others\n    if (name === 'style')\n      return hyperStyle(node, original, isSVG);\n    // the name is an event one,\n    // add/remove event listeners accordingly\n    else if (/^on/.test(name)) {\n      let type = name.slice(2);\n      if (type === CONNECTED || type === DISCONNECTED) {\n        observe(node);\n      }\n      else if (name.toLowerCase()\n        in node) {\n        type = type.toLowerCase();\n      }\n      return newValue => {\n        if (oldValue !== newValue) {\n          if (oldValue)\n            node.removeEventListener(type, oldValue, false);\n          oldValue = newValue;\n          if (newValue)\n            node.addEventListener(type, newValue, false);\n        }\n      };\n    }\n    // the attribute is special ('value' in input)\n    // and it's not SVG *or* the name is exactly data,\n    // in this case assign the value directly\n    else if (\n      name === 'data' ||\n      (!isSVG && name in node && !readOnly.test(name))\n    ) {\n      return newValue => {\n        if (oldValue !== newValue) {\n          oldValue = newValue;\n          if (node[name] !== newValue && newValue == null) {\n            // cleanup on null to avoid silly IE/Edge bug\n            node[name] = '';\n            node.removeAttribute(name);\n          }\n          else\n            node[name] = newValue;\n        }\n      };\n    }\n    else if (name in Intent.attributes) {\n      oldValue;\n      return any => {\n        const newValue = Intent.attributes[name](node, any);\n        if (oldValue !== newValue) {\n          oldValue = newValue;\n          if (newValue == null)\n            node.removeAttribute(name);\n          else\n            node.setAttribute(name, newValue);\n        }\n      };\n    }\n    // in every other case, use the attribute node as it is\n    // update only the value, set it as node only when/if needed\n    else {\n      let owner = false;\n      const attribute = original.cloneNode(true);\n      return newValue => {\n        if (oldValue !== newValue) {\n          oldValue = newValue;\n          if (attribute.value !== newValue) {\n            if (newValue == null) {\n              if (owner) {\n                owner = false;\n                node.removeAttributeNode(attribute);\n              }\n              attribute.value = newValue;\n            } else {\n              attribute.value = newValue;\n              if (!owner) {\n                owner = true;\n                node.setAttributeNode(attribute);\n              }\n            }\n          }\n        }\n      };\n    }\n  },\n\n  // in a hyper(node)`<div>${content}</div>` case\n  // everything could happen:\n  //  * it's a JS primitive, stored as text\n  //  * it's null or undefined, the node should be cleaned\n  //  * it's a component, update the content by rendering it\n  //  * it's a promise, update the content once resolved\n  //  * it's an explicit intent, perform the desired operation\n  //  * it's an Array, resolve all values if Promises and/or\n  //    update the node with the resulting list of content\n  any(node, childNodes) {\n    const diffOptions = {node: asNode, before: node};\n    const nodeType = OWNER_SVG_ELEMENT in node ? /* istanbul ignore next */ 'svg' : 'html';\n    let fastPath = false;\n    let oldValue;\n    const anyContent = value => {\n      switch (typeof value) {\n        case 'string':\n        case 'number':\n        case 'boolean':\n          if (fastPath) {\n            if (oldValue !== value) {\n              oldValue = value;\n              childNodes[0].textContent = value;\n            }\n          } else {\n            fastPath = true;\n            oldValue = value;\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              [text(node, value)],\n              diffOptions\n            );\n          }\n          break;\n        case 'function':\n          anyContent(value(node));\n          break;\n        case 'object':\n        case 'undefined':\n          if (value == null) {\n            fastPath = false;\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              [],\n              diffOptions\n            );\n            break;\n          }\n        default:\n          fastPath = false;\n          oldValue = value;\n          if (isArray(value)) {\n            if (value.length === 0) {\n              if (childNodes.length) {\n                childNodes = domdiff(\n                  node.parentNode,\n                  childNodes,\n                  [],\n                  diffOptions\n                );\n              }\n            } else {\n              switch (typeof value[0]) {\n                case 'string':\n                case 'number':\n                case 'boolean':\n                  anyContent({html: value});\n                  break;\n                case 'object':\n                  if (isArray(value[0])) {\n                    value = value.concat.apply([], value);\n                  }\n                  if (isPromise_ish(value[0])) {\n                    Promise.all(value).then(anyContent);\n                    break;\n                  }\n                default:\n                  childNodes = domdiff(\n                    node.parentNode,\n                    childNodes,\n                    value,\n                    diffOptions\n                  );\n                  break;\n              }\n            }\n          } else if (canDiff(value)) {\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              value.nodeType === DOCUMENT_FRAGMENT_NODE ?\n                slice.call(value.childNodes) :\n                [value],\n              diffOptions\n            );\n          } else if (isPromise_ish(value)) {\n            value.then(anyContent);\n          } else if ('placeholder' in value) {\n            invokeAtDistance(value, anyContent);\n          } else if ('text' in value) {\n            anyContent(String(value.text));\n          } else if ('any' in value) {\n            anyContent(value.any);\n          } else if ('html' in value) {\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              slice.call(\n                createContent(\n                  [].concat(value.html).join(''),\n                  nodeType\n                ).childNodes\n              ),\n              diffOptions\n            );\n          } else if ('length' in value) {\n            anyContent(slice.call(value));\n          } else {\n            anyContent(Intent.invoke(value, anyContent));\n          }\n          break;\n      }\n    };\n    return anyContent;\n  },\n\n  // style or textareas don't accept HTML as content\n  // it's pointless to transform or analyze anything\n  // different from text there but it's worth checking\n  // for possible defined intents.\n  text(node) {\n    let oldValue;\n    const textContent = value => {\n      if (oldValue !== value) {\n        oldValue = value;\n        const type = typeof value;\n        if (type === 'object' && value) {\n          if (isPromise_ish(value)) {\n            value.then(textContent);\n          } else if ('placeholder' in value) {\n            invokeAtDistance(value, textContent);\n          } else if ('text' in value) {\n            textContent(String(value.text));\n          } else if ('any' in value) {\n            textContent(value.any);\n          } else if ('html' in value) {\n            textContent([].concat(value.html).join(''));\n          } else if ('length' in value) {\n            textContent(slice.call(value).join(''));\n          } else {\n            textContent(Intent.invoke(value, textContent));\n          }\n        } else if (type === 'function') {\n          textContent(value(node));\n        } else {\n          node.textContent = value == null ? '' : value;\n        }\n      }\n    };\n    return textContent;\n  }\n};\n","/*! (c) Andrea Giammarchi */\nfunction disconnected(poly) {'use strict';\n  var Event = poly.Event;\n  var WeakSet = poly.WeakSet;\n  var notObserving = true;\n  var observer = null;\n  return function observe(node) {\n    if (notObserving) {\n      notObserving = !notObserving;\n      observer = new WeakSet;\n      startObserving(node.ownerDocument);\n    }\n    observer.add(node);\n    return node;\n  };\n  function startObserving(document) {\n    var connected = new WeakSet;\n    var disconnected = new WeakSet;\n    try {\n      (new MutationObserver(changes)).observe(\n        document,\n        {subtree: true, childList: true}\n      );\n    }\n    catch(o_O) {\n      var timer = 0;\n      var records = [];\n      var reschedule = function (record) {\n        records.push(record);\n        clearTimeout(timer);\n        timer = setTimeout(\n          function () {\n            changes(records.splice(timer = 0, records.length));\n          },\n          0\n        );\n      };\n      document.addEventListener(\n        'DOMNodeRemoved',\n        function (event) {\n          reschedule({addedNodes: [], removedNodes: [event.target]});\n        },\n        true\n      );\n      document.addEventListener(\n        'DOMNodeInserted',\n        function (event) {\n          reschedule({addedNodes: [event.target], removedNodes: []});\n        },\n        true\n      );\n    }\n    function changes(records) {\n      for (var\n        record,\n        length = records.length,\n        i = 0; i < length; i++\n      ) {\n        record = records[i];\n        dispatchAll(record.removedNodes, 'disconnected', disconnected, connected);\n        dispatchAll(record.addedNodes, 'connected', connected, disconnected);\n      }\n    }\n    function dispatchAll(nodes, type, wsin, wsout) {\n      for (var\n        node,\n        event = new Event(type),\n        length = nodes.length,\n        i = 0; i < length;\n        (node = nodes[i++]).nodeType === 1 &&\n        dispatchTarget(node, event, type, wsin, wsout)\n      );\n    }\n    function dispatchTarget(node, event, type, wsin, wsout) {\n      if (observer.has(node) && !wsin.has(node)) {\n        wsout.delete(node);\n        wsin.add(node);\n        node.dispatchEvent(event);\n        /*\n        // The event is not bubbling (perf reason: should it?),\n        // hence there's no way to know if\n        // stop/Immediate/Propagation() was called.\n        // Should DOM Level 0 work at all?\n        // I say it's a YAGNI case for the time being,\n        // and easy to implement in user-land.\n        if (!event.cancelBubble) {\n          var fn = node['on' + type];\n          if (fn)\n            fn.call(node, event);\n        }\n        */\n      }\n      for (var\n        // apparently is node.children || IE11 ... ^_^;;\n        // https://github.com/WebReflection/disconnected/issues/1\n        children = node.children || [],\n        length = children.length,\n        i = 0; i < length;\n        dispatchTarget(children[i++], event, type, wsin, wsout)\n      );\n    }\n  }\n}\nexport default disconnected;\n","import WeakMap from '@ungap/weakmap';\n\nvar isNoOp = typeof document !== 'object';\n\nvar templateLiteral = function (tl) {\n  var RAW = 'raw';\n  var isBroken = function (UA) {\n    return /(Firefox|Safari)\\/(\\d+)/.test(UA) &&\n          !/(Chrom|Android)\\/(\\d+)/.test(UA);\n  };\n  var broken = isBroken((document.defaultView.navigator || {}).userAgent);\n  var FTS = !(RAW in tl) ||\n            tl.propertyIsEnumerable(RAW) ||\n            !Object.isFrozen(tl[RAW]);\n  if (broken || FTS) {\n    var forever = {};\n    var foreverCache = function (tl) {\n      for (var key = '.', i = 0; i < tl.length; i++)\n        key += tl[i].length + '.' + tl[i];\n      return forever[key] || (forever[key] = tl);\n    };\n    // Fallback TypeScript shenanigans\n    if (FTS)\n      templateLiteral = foreverCache;\n    // try fast path for other browsers:\n    // store the template as WeakMap key\n    // and forever cache it only when it's not there.\n    // this way performance is still optimal,\n    // penalized only when there are GC issues\n    else {\n      var wm = new WeakMap;\n      var set = function (tl, unique) {\n        wm.set(tl, unique);\n        return unique;\n      };\n      templateLiteral = function (tl) {\n        return wm.get(tl) || set(tl, foreverCache(tl));\n      };\n    }\n  } else {\n    isNoOp = true;\n  }\n  return TL(tl);\n};\n\nexport default TL;\n\nfunction TL(tl) {\n  return isNoOp ? tl : templateLiteral(tl);\n}\n","import unique from '@ungap/template-literal';\n\nexport default function (template) {\n  var length = arguments.length;\n  var args = [unique(template)];\n  var i = 1;\n  while (i < length)\n    args.push(arguments[i++]);\n  return args;\n};\n","import WeakMap from '@ungap/weakmap';\nimport tta from '@ungap/template-tag-arguments';\n\nimport Wire from 'hyperhtml-wire';\n\nimport {Tagger} from '../objects/Updates.js';\n\n// all wires used per each context\nconst wires = new WeakMap;\n\n// A wire is a callback used as tag function\n// to lazily relate a generic object to a template literal.\n// hyper.wire(user)`<div id=user>${user.name}</div>`; => the div#user\n// This provides the ability to have a unique DOM structure\n// related to a unique JS object through a reusable template literal.\n// A wire can specify a type, as svg or html, and also an id\n// via html:id or :id convention. Such :id allows same JS objects\n// to be associated to different DOM structures accordingly with\n// the used template literal without losing previously rendered parts.\nconst wire = (obj, type) => obj == null ?\n  content(type || 'html') :\n  weakly(obj, type || 'html');\n\n// A wire content is a virtual reference to one or more nodes.\n// It's represented by either a DOM node, or an Array.\n// In both cases, the wire content role is to simply update\n// all nodes through the list of related callbacks.\n// In few words, a wire content is like an invisible parent node\n// in charge of updating its content like a bound element would do.\nconst content = type => {\n  let wire, tagger, template;\n  return function () {\n    const args = tta.apply(null, arguments);\n    if (template !== args[0]) {\n      template = args[0];\n      tagger = new Tagger(type);\n      wire = wireContent(tagger.apply(tagger, args));\n    } else {\n      tagger.apply(tagger, args);\n    }\n    return wire;\n  };\n};\n\n// wires are weakly created through objects.\n// Each object can have multiple wires associated\n// and this is thanks to the type + :id feature.\nconst weakly = (obj, type) => {\n  const i = type.indexOf(':');\n  let wire = wires.get(obj);\n  let id = type;\n  if (-1 < i) {\n    id = type.slice(i + 1);\n    type = type.slice(0, i) || 'html';\n  }\n  if (!wire)\n    wires.set(obj, wire = {});\n  return wire[id] || (wire[id] = content(type));\n};\n\n// A document fragment loses its nodes \n// as soon as it is appended into another node.\n// This has the undesired effect of losing wired content\n// on a second render call, because (by then) the fragment would be empty:\n// no longer providing access to those sub-nodes that ultimately need to\n// stay associated with the original interpolation.\n// To prevent hyperHTML from forgetting about a fragment's sub-nodes,\n// fragments are instead returned as an Array of nodes or, if there's only one entry,\n// as a single referenced node which, unlike fragments, will indeed persist\n// wire content throughout multiple renderings.\n// The initial fragment, at this point, would be used as unique reference to this\n// array of nodes or to this single referenced node.\nconst wireContent = node => {\n  const childNodes = node.childNodes;\n  const {length} = childNodes;\n  return length === 1 ?\n    childNodes[0] :\n    (length ? new Wire(childNodes) : node);\n};\n\nexport { content, weakly };\nexport default wire;\n","import WeakMap from '@ungap/weakmap';\nimport tta from '@ungap/template-tag-arguments';\n\nimport {OWNER_SVG_ELEMENT} from '../shared/constants.js';\nimport {Tagger} from '../objects/Updates.js';\n\n// a weak collection of contexts that\n// are already known to hyperHTML\nconst bewitched = new WeakMap;\n\n// better known as hyper.bind(node), the render is\n// the main tag function in charge of fully upgrading\n// or simply updating, contexts used as hyperHTML targets.\n// The `this` context is either a regular DOM node or a fragment.\nfunction render() {\n  const wicked = bewitched.get(this);\n  const args = tta.apply(null, arguments);\n  if (wicked && wicked.template === args[0]) {\n    wicked.tagger.apply(null, args);\n  } else {\n    upgrade.apply(this, args);\n  }\n  return this;\n}\n\n// an upgrade is in charge of collecting template info,\n// parse it once, if unknown, to map all interpolations\n// as single DOM callbacks, relate such template\n// to the current context, and render it after cleaning the context up\nfunction upgrade(template) {\n  const type = OWNER_SVG_ELEMENT in this ? 'svg' : 'html';\n  const tagger = new Tagger(type);\n  bewitched.set(this, {tagger, template: template});\n  this.textContent = '';\n  this.appendChild(tagger.apply(null, arguments));\n}\n\nexport default render;\n","/*! (c) Andrea Giammarchi (ISC) */\nimport WeakMap from '@ungap/weakmap';\nimport WeakSet from '@ungap/essential-weakset';\n\nimport diff from 'domdiff';\nimport Component, {setup} from './classes/Component.js';\nimport Intent from './objects/Intent.js';\nimport {observe, Tagger} from './objects/Updates.js';\nimport wire, {content, weakly} from './hyper/wire.js';\nimport render from './hyper/render.js';\n\n// all functions are self bound to the right context\n// you can do the following\n// const {bind, wire} = hyperHTML;\n// and use them right away: bind(node)`hello!`;\nconst bind = context => render.bind(context);\nconst define = Intent.define;\nconst tagger = Tagger.prototype;\n\nhyper.Component = Component;\nhyper.bind = bind;\nhyper.define = define;\nhyper.diff = diff;\nhyper.hyper = hyper;\nhyper.observe = observe;\nhyper.tagger = tagger;\nhyper.wire = wire;\n\n// exported as shared utils\n// for projects based on hyperHTML\n// that don't necessarily need upfront polyfills\n// i.e. those still targeting IE\nhyper._ = {\n  WeakMap,\n  WeakSet\n};\n\n// the wire content is the lazy defined\n// html or svg property of each hyper.Component\nsetup(content);\n\n// everything is exported directly or through the\n// hyperHTML callback, when used as top level script\nexport {Component, bind, define, diff, hyper, observe, tagger, wire};\n\n// by default, hyperHTML is a smart function\n// that \"magically\" understands what's the best\n// thing to do with passed arguments\nexport default function hyper(HTML) {\n  return arguments.length < 2 ?\n    (HTML == null ?\n      content('html') :\n      (typeof HTML === 'string' ?\n        hyper.wire(null, HTML) :\n        ('raw' in HTML ?\n          content('html')(HTML) :\n          ('nodeType' in HTML ?\n            hyper.bind(HTML) :\n            weakly(HTML, 'html')\n          )\n        )\n      )) :\n    ('raw' in HTML ?\n      content('html') : hyper.wire\n    ).apply(null, arguments);\n}\n"],"names":["self","WeakMap","id","Object","dP","defineProperty","hOP","hasOwnProperty","proto","prototype","delete","key","this","has","_","get","call","set","value","configurable","iterable","forEach","add","pair","Math","random","WeakSet","object","Map","i","k","v","had","contains","splice","push","indexOf","append","parent","children","start","end","before","isSelect","selectedIndex","child","selected","insertBefore","eqeq","a","b","identity","O","moreNodes","moreStart","moreEnd","lessNodes","lessStart","lessEnd","compare","length","m","l","next","list","nextSibling","remove","removeChild","range","ownerDocument","createRange","setStartBefore","setEndAfter","deleteContents","findK","ktr","j","lo","hi","mid","smartDiff","parentNode","futureNodes","futureStart","futureEnd","futureChanges","currentNodes","currentStart","currentEnd","currentChanges","currentLength","diff","live","currentIndex","applyDiff","rows","cols","d","r","c","pv","cv","pd","outer","Array","diffIdx","OND","minLen","link","tresh","keymap","idxInOld","newi","oldi","prev","ptr","HS","domdiff","options","node","currentSame","futureSame","isReversed","CustomEvent","__p__","constructor","type","init","e","document","createEvent","initCustomEvent","bubbles","cancelable","detail","Component","lazyGetter","fn","secret","[object Object]","setValue","_wire$","apply","arguments","defineProperties","ELEMENT_NODE","nodeType","attributes","intents","keys","toString","$","define","intent","callback","invoke","isArray","createContent","FRAGMENT","createHTML","create","html","template","innerHTML","content","childNodes","test","selector","RegExp","$1","querySelectorAll","markup","svg","firstChild","root","appendChild","element","createDocumentFragment","createElementNS","importNode","cloneNode","createTextNode","native","fragment","deep","clone","trim","String","replace","UID","toFixed","createElement","getAttribute","slice","meh","UIDC","COMMENT_NODE","TEXT_NODE","SHOULD_USE_TEXT_CONTENT","VOID_ELEMENTS","spaces","almostEverything","attrName","tagName","attrPartials","attrSeeker","selfClosing","findAttributes","attrReplacer","$0","$2","$3","replaceAttributes","fullClosing","path","name","find","parseAttributes","holes","parts","cache","array","attribute","realName","shift","toLowerCase","attr","removeAttribute","removeAttributeNode","nodeName","script","setAttributeNode","textContent","replaceChild","parsed","referenced","createInfo","join","sanitize","transform","cleanContent","parse","childPath","concat","info","updates","callbacks","len","any","text","values","Error","domtagger","details","createDetails","hyperStyle","IS_NON_DIMENSIONAL","hyphen","original","style","setAttribute","getAttributeNode","update","ized","isSVG","oldType","oldValue","newValue","styleValue","cssText","setProperty","css","toStyle","Wire","keepFirst","first","last","lastChild","valueOf","forceAppend","noFragment","n","nodes","OWNER_SVG_ELEMENT","componentType","wireType","observe","poly","Event","notObserving","observer","connected","disconnected","MutationObserver","changes","subtree","childList","o_O","timer","records","reschedule","record","clearTimeout","setTimeout","addEventListener","event","addedNodes","removedNodes","target","dispatchAll","wsin","wsout","dispatchTarget","dispatchEvent","startObserving","asHTML","asNode","item","render","invokeAtDistance","placeholder","Promise","resolve","then","Intent","isPromise_ish","readOnly","Tagger","removeEventListener","owner","diffOptions","fastPath","anyContent","all","canDiff","isNoOp","templateLiteral","tl","UA","broken","defaultView","navigator","userAgent","FTS","propertyIsEnumerable","isFrozen","forever","foreverCache","wm","unique","TL","args","wires","wire","obj","weakly","tagger","tta","wireContent","bewitched","wicked","bind","context","hyper","HTML","relate","Class","relation","w","p","for","component","createEntry","sm","handleEvent","ct","currentTarget","state","defaultState","dispatch","setState","source","setup"],"mappings":"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"}